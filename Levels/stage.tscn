[gd_scene load_steps=9 format=2]

[ext_resource path="res://Objects/Parallax/Parallax.tscn" type="PackedScene" id=1]
[ext_resource path="res://Objects/Player/Player.tscn" type="PackedScene" id=2]
[ext_resource path="res://Objects/Tiles/block.tscn" type="PackedScene" id=3]
[ext_resource path="res://Objects/Tiles/ladder.tscn" type="PackedScene" id=4]
[ext_resource path="res://Objects/Tiles/platform.tscn" type="PackedScene" id=5]
[ext_resource path="res://Objects/Shopkeeper/shopkeep.tscn" type="PackedScene" id=6]

[sub_resource type="Shader" id=1]
resource_name = "Flash Shader"
code = "shader_type canvas_item;

uniform vec4 flash_color : hint_color = vec4(1.0);
uniform float flash_modifier : hint_range(0.0, 1.0) = 0.0;

void fragment() {
	vec4 color = texture(TEXTURE, UV);
	color.rgb = mix(color.rgb, flash_color.rgb, flash_modifier);
	COLOR = color;
}"

[sub_resource type="ShaderMaterial" id=2]
resource_local_to_scene = true
resource_name = "Flash Material"
shader = SubResource( 1 )
shader_param/flash_color = Color( 1, 1, 1, 1 )
shader_param/flash_modifier = 1.0

[node name="Node" type="Node"]

[node name="DecayTimer" type="Timer" parent="."]
autostart = true

[node name="Parallax" parent="." instance=ExtResource( 1 )]

[node name="Player" parent="." instance=ExtResource( 2 )]
material = SubResource( 2 )
position = Vector2( 0, -96 )

[node name="Stage" type="Node2D" parent="."]
__meta__ = {
"_edit_lock_": true
}

[node name="Block" parent="Stage" instance=ExtResource( 3 )]
position = Vector2( -144, 0 )

[node name="Block17" parent="Stage" instance=ExtResource( 3 )]
position = Vector2( -176, 0 )

[node name="Block18" parent="Stage" instance=ExtResource( 3 )]
position = Vector2( -208, 0 )

[node name="Block19" parent="Stage" instance=ExtResource( 3 )]
position = Vector2( -240, 0 )

[node name="Block2" parent="Stage" instance=ExtResource( 3 )]
position = Vector2( -112, 0 )

[node name="Block3" parent="Stage" instance=ExtResource( 3 )]
position = Vector2( -80, 0 )

[node name="Block4" parent="Stage" instance=ExtResource( 3 )]
position = Vector2( -48, 0 )

[node name="Block5" parent="Stage" instance=ExtResource( 3 )]
position = Vector2( -16, 0 )

[node name="Block6" parent="Stage" instance=ExtResource( 3 )]
position = Vector2( 16, 0 )

[node name="Block7" parent="Stage" instance=ExtResource( 3 )]
position = Vector2( 48, 0 )

[node name="Block8" parent="Stage" instance=ExtResource( 3 )]
position = Vector2( 80, 0 )

[node name="Block9" parent="Stage" instance=ExtResource( 3 )]
position = Vector2( 112, 0 )

[node name="Block11" parent="Stage" instance=ExtResource( 3 )]
position = Vector2( 144, 0 )

[node name="Block14" parent="Stage" instance=ExtResource( 3 )]
position = Vector2( 176, 0 )

[node name="Block16" parent="Stage" instance=ExtResource( 3 )]
position = Vector2( 208, 0 )

[node name="Block20" parent="Stage" instance=ExtResource( 3 )]
position = Vector2( 240, 0 )

[node name="Block10" parent="Stage" instance=ExtResource( 3 )]
position = Vector2( -144, -96 )

[node name="Block12" parent="Stage" instance=ExtResource( 3 )]
position = Vector2( -80, -96 )

[node name="Block13" parent="Stage" instance=ExtResource( 3 )]
position = Vector2( 48, -96 )

[node name="Block15" parent="Stage" instance=ExtResource( 3 )]
position = Vector2( 112, -96 )

[node name="Ladder" parent="Stage" instance=ExtResource( 4 )]
position = Vector2( -112, -32 )

[node name="Ladder2" parent="Stage" instance=ExtResource( 4 )]
position = Vector2( 80, -32 )

[node name="Ladder3" parent="Stage" instance=ExtResource( 4 )]
position = Vector2( -112, -64 )

[node name="Ladder4" parent="Stage" instance=ExtResource( 4 )]
position = Vector2( 80, -64 )

[node name="Ladder5" parent="Stage" instance=ExtResource( 4 )]
position = Vector2( -112, -96 )

[node name="Ladder6" parent="Stage" instance=ExtResource( 4 )]
position = Vector2( 80, -96 )

[node name="Platform4" parent="Stage" instance=ExtResource( 5 )]
position = Vector2( -176, -96 )

[node name="Platform2" parent="Stage" instance=ExtResource( 5 )]
position = Vector2( -16, -93 )

[node name="Platform5" parent="Stage" instance=ExtResource( 5 )]
position = Vector2( 144, -96 )

[node name="shopkeep" parent="." instance=ExtResource( 6 )]
position = Vector2( -128, 0 )
